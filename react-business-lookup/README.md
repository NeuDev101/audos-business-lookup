# React Business Lookup Frontend

This is the React frontend for the Audos Business Lookup application, generated by Kombai.

## Development Mode

Run the Flask backend and React frontend separately:

### Backend (Flask)
```bash
python app.py
```
- Runs on `http://localhost:5000`
- Serves JSON API endpoints

### Frontend (React)
```bash
cd react-business-lookup
npm run dev
```
- Runs on `http://localhost:5173`
- Hot module replacement enabled
- Calls Flask API at `http://localhost:5000` (or value of `VITE_API_BASE_URL`)

### Environment Variables

Set `VITE_API_BASE_URL` to override the default API URL:
```bash
VITE_API_BASE_URL=http://localhost:5000 npm run dev
```

By default, in development mode, the app uses `http://localhost:5000` as the API base URL.

## Production Mode

### Build the React App

```bash
cd react-business-lookup
npm run build
```

This creates a `dist/` folder with the production build.

### Serve with Flask

The Flask app (`app.py`) automatically serves the React build when it exists:

1. Build the React app: `cd react-business-lookup && npm run build`
2. Run Flask: `python app.py`
3. Visit `http://localhost:5000` - Flask serves the React app

### API Base URL in Production

In production, if `VITE_API_BASE_URL` is not set, the React app uses an empty string (`""`) as the base URL, making all API calls relative to the same origin (no CORS needed).

To override, set `VITE_API_BASE_URL` during build:
```bash
VITE_API_BASE_URL=https://api.example.com npm run build
```

## API Endpoints

The React app calls these Flask endpoints:

- `POST /lookup-single` - Single business lookup
- `POST /lookup-csv` - Bulk CSV lookup
- `POST /lookup-bulk` - Bulk JSON lookup

All endpoints return JSON responses.

## Project Structure

```
src/
├── lib/
│   └── api.ts                       # API helper functions
├── components/
│   ├── Layout.tsx                   # Main layout wrapper
│   ├── BusinessLookupForm.tsx       # Single lookup form
│   ├── LookupResultCard.tsx        # Result display card
│   ├── FileDropzone.tsx             # CSV file upload dropzone
│   ├── StatCard.tsx                 # Statistics card
│   ├── BulkLookupResultsTable.tsx  # Bulk verification results table
│   └── ...                          # Other components
├── pages/
│   ├── BusinessLookupSinglePage.tsx # Single lookup page
│   └── BusinessLookupBulkPage.tsx   # Bulk lookup page
├── App.tsx
├── main.tsx
└── index.css                        # Tailwind + theme
```

## Console UI

The invoice console lives inside the same React app and is exposed through the router:

- `http://localhost:5173/console` – manual invoice entry workspace
- `http://localhost:5173/console/bulk` – bulk invoice validation dashboard

### Features

- Dark theme dashboard with reusable layout, sidebar navigation, and top search bar
- Manual invoice entry form with live preview and editable line items
- Bulk validation flow with drag-and-drop uploads, stats cards, invoice table, and issues panel
- Shared Tailwind v4 token system so console colors (`bg-dark-panel`, `border-dark-border`, etc.) work alongside the lookup UI

Use the existing dev/build commands (`npm run dev`, `npm run build`) from the repo root `react-business-lookup/` to work on both the lookup and console experiences.
